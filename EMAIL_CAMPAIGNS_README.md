# Email Campaign System - –°–∏—Å—Ç–µ–º–∞ –†–∞—Å—Å—ã–ª–æ–∫

## –û–±–∑–æ—Ä

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ email —Ä–∞—Å—Å—ã–ª–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CID-–≤–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∏—Å–µ–º –≤–æ –≤—Å–µ—Ö –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö, –≤–∫–ª—é—á–∞—è Gmail.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ HTML —à–∞–±–ª–æ–Ω–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{{VARIABLE_NAME}}`
- –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–º–æ–∫–æ–¥—ã, –∏–Ω–≤–∞–π—Ç-–∫–æ–¥—ã)
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–∞–Ω–Ω—ã—Ö
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞—Å—Å—ã–ª–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–º–∞, –∑–∞–¥–µ—Ä–∂–∫–∞)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω/–¥–∞–Ω–Ω—ã–µ/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### 2. –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ `<img>` —Ç–µ–≥–æ–≤ –≤ —à–∞–±–ª–æ–Ω–µ
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∫ CID-–≤–ª–æ–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ `src` –Ω–∞ `cid:` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Gmail –∏ –¥—Ä—É–≥–∏—Ö –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö

### 3. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Live preview —à–∞–±–ª–æ–Ω–∞ —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ iframe
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º –Ω–∞ –ª—é–±–æ–π email
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Ç–ø–∏—Å–∫–∏

### 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏ (1-60 —Å–µ–∫—É–Ω–¥)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤: pending, sent, failed, unsubscribed
- –ü–æ–¥—Å—á–µ—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### 5. –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è URL –æ—Ç–ø–∏—Å–∫–∏
- –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–ø–∏—Å–∫–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–º–µ—Ç–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∫–∞–∫ unsubscribed
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–ø–∏—Å–∞–≤—à–∏–º—Å—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `campaigns`
```sql
- id
- name (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏)
- subject (—Ç–µ–º–∞ –ø–∏—Å—å–º–∞)
- html_template (HTML —à–∞–±–ª–æ–Ω)
- field_mapping (JSON –º–∞–ø–ø–∏–Ω–≥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- status (draft, sending, completed, failed)
- total_recipients (–≤—Å–µ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π)
- sent_count (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ)
- failed_count (–æ—à–∏–±–æ–∫)
- delay_seconds (–∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏)
- started_at, completed_at
- timestamps
```

### –¢–∞–±–ª–∏—Ü–∞ `campaign_recipients`
```sql
- id
- campaign_id
- email
- data (JSON –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏)
- status (pending, sent, failed, unsubscribed)
- error_message (—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏)
- sent_at
- timestamps
```

### –¢–∞–±–ª–∏—Ü–∞ `campaign_images`
```sql
- id
- campaign_id
- original_src (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π src –∏–∑ —à–∞–±–ª–æ–Ω–∞)
- file_path (–ø—É—Ç—å –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É)
- cid (Content-ID –¥–ª—è email)
- timestamps
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥–µ–ª–∏
- `Campaign` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–∞—Å—Å—ã–ª–∫–∏
  - `extractTemplateVariables()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ —à–∞–±–ª–æ–Ω–∞
  - `extractTemplateImages()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ img —Ç–µ–≥–æ–≤
  - `renderTemplate()` - –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω
  - `isEditable()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - `canStart()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—É—Å–∫—É

- `CampaignRecipient` - –ø–æ–ª—É—á–∞—Ç–µ–ª—å —Ä–∞—Å—Å—ã–ª–∫–∏
  - `markAsSent()` - –ø–æ–º–µ—Ç–∫–∞ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
  - `markAsFailed()` - –ø–æ–º–µ—Ç–∫–∞ –∫–∞–∫ –æ—à–∏–±–æ—á–Ω–æ–µ

- `CampaignImage` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è CID-–≤–ª–æ–∂–µ–Ω–∏—è

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `CampaignController`

**–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏ (3 —à–∞–≥–∞):**
1. `create()` / `store()` - –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ HTML —à–∞–±–ª–æ–Ω–∞
2. `upload()` / `processUpload()` - –∑–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–æ–≤
3. `mapping()` / `saveMapping()` - –º–∞–ø–ø–∏–Ω–≥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- `index()` - —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Å—ã–ª–æ–∫
- `show()` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å—Å—ã–ª–∫–∏
- `edit()` / `update()` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `destroy()` - —É–¥–∞–ª–µ–Ω–∏–µ

**–û—Ç–ø—Ä–∞–≤–∫–∞:**
- `sendTest()` - —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ
- `start()` - –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏
- `unsubscribe()` - –ø—É–±–ª–∏—á–Ω–∞—è –æ—Ç–ø–∏—Å–∫–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP

–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP:
- SMTP Host (–Ω–∞–ø—Ä–∏–º–µ—Ä: smtp.gmail.com)
- SMTP Port (587 –¥–ª—è TLS, 465 –¥–ª—è SSL)
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (TLS/SSL)
- Username (email –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- Password (–ø–∞—Ä–æ–ª—å –∏–ª–∏ app password)
- Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- –ò–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ HTML —à–∞–±–ª–æ–Ω–∞

–°–æ–∑–¥–∞–π—Ç–µ HTML —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
```html
<html>
<body>
  <h1>–ü—Ä–∏–≤–µ—Ç, {{NAME}}!</h1>
  <p>–í–∞—à –∏–Ω–≤–∞–π—Ç-–∫–æ–¥: {{INVITE_CODE}}</p>

  <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç—Ä–æ–µ–Ω–æ -->
  <img src="logo.png" alt="Logo" width="72" height="72">

  <!-- –°—Å—ã–ª–∫–∞ –æ—Ç–ø–∏—Å–∫–∏ -->
  <a href="{{UNSUBSCRIBE}}">–û—Ç–ø–∏—Å–∞—Ç—å—Å—è</a>
</body>
</html>
```

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ CSV —Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏

```csv
email,name,company
user1@example.com,–ò–≤–∞–Ω,–ö–æ–º–ø–∞–Ω–∏—è –ê
user2@example.com,–ú–∞—Ä–∏—è,–ö–æ–º–ø–∞–Ω–∏—è –ë
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏

**–®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏
- –¢–µ–º–∞ –ø–∏—Å—å–º–∞
- HTML —à–∞–±–ª–æ–Ω (–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª)
- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏

**–®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**
- CSV —Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª TXT/CSV (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–®–∞–≥ 3: –ú–∞–ø–ø–∏–Ω–≥**
- –í—ã–±—Ä–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É –¥–ª—è email
- –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ img
- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å live preview

### 5. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**URL –æ—Ç–ø–∏—Å–∫–∏:**
–ü—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ –≤—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ "üîß –°–ª—É–∂–µ–±–Ω–æ–µ: URL –æ—Ç–ø–∏—Å–∫–∏" –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å —Å—Å—ã–ª–∫–æ–π –æ—Ç–ø–∏—Å–∫–∏.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### CID-–≤–ª–æ–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞:
1. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. –ó–∞–º–µ–Ω—è–µ—Ç `src="logo.png"` –Ω–∞ `src="cid:img_unique_id"`
3. –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `$email->embedFromPath()`
4. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –ø–∏—Å—å–º–∞, –∞ –Ω–µ –ø–æ URL

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ Gmail –∏ –≤—Å–µ—Ö –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö
- –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö URL
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø–∏—Å–∫–∏

**–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:**
- –ú–∞—Ä–∫–µ—Ä `__UNSUBSCRIBE_URL__` –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL
- URL —Å–æ–¥–µ—Ä–∂–∏—Ç ID –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- –ü—Ä–∏–º–µ—Ä: `https://iqot.ru/unsubscribe/123`

**–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É:**
- –ü—É–±–ª–∏—á–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `unsubscribed`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ –±—É–¥—É—â–∏—Ö —Ä–∞—Å—Å—ã–ª–æ–∫

### –¢–µ—Å—Ç–æ–≤—ã–µ –ø–∏—Å—å–º–∞

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞:
1. –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º email
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
3. –°—Ç–∞—Ç—É—Å —Å—Ä–∞–∑—É `sent` (–Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ –º–∞—Å—Å–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É)
4. URL –æ—Ç–ø–∏—Å–∫–∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ email

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–æ–∫

**–ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å–µ `draft` –∏–ª–∏ `failed`.**

**–ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞):**
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –¢–µ–º—É
- –ó–∞–¥–µ—Ä–∂–∫—É

**–®–∞–±–ª–æ–Ω –∏ –¥–∞–Ω–Ω—ã–µ (—á–µ—Ä–µ–∑ "–ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª—ã"):**
- –í—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π
- –ü—Ä–∏ –∑–∞–º–µ–Ω–µ —à–∞–±–ª–æ–Ω–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ img
- –ü—Ä–∏ –∑–∞–º–µ–Ω–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π - —Å—Ç–∞—Ä—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è

## –ú–∞—Ä—à—Ä—É—Ç—ã

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞)
```
GET  /manage/campaigns                    - —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Å—ã–ª–æ–∫
GET  /manage/campaigns/create             - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è
POST /manage/campaigns                    - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏
GET  /manage/campaigns/{id}/edit          - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
PUT  /manage/campaigns/{id}               - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
GET  /manage/campaigns/{id}/upload        - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
POST /manage/campaigns/{id}/upload        - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
GET  /manage/campaigns/{id}/mapping       - –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π
POST /manage/campaigns/{id}/mapping       - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞
GET  /manage/campaigns/{id}               - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å—Å—ã–ª–∫–∏
POST /manage/campaigns/{id}/send-test     - —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ
POST /manage/campaigns/{id}/start         - –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏
DELETE /manage/campaigns/{id}             - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏
```

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
```
GET /unsubscribe/{recipient_id}           - –æ—Ç–ø–∏—Å–∫–∞ –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
```

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```bash
php artisan migrate
```

–ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
- `campaigns`
- `campaign_recipients` (—Å —Å—Ç–∞—Ç—É—Å–æ–º `unsubscribed`)
- `campaign_images`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- SMTP –ø–∞—Ä–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å app password)
- –ü—É–±–ª–∏—á–Ω–∞—è –æ—Ç–ø–∏—Å–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
- –§–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `storage/app/public/campaign-images`
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–ø–∏—Å–∞–≤—à–∏–º—Å—è (—Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è)

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å)
- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É SMTP
- –î–ª—è –±–æ–ª—å—à–∏—Ö —Ä–∞—Å—Å—ã–ª–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)
- CID-–≤–ª–æ–∂–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –ø–∏—Å—å–º–∞, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –¥–æ—Å—Ç–∞–≤–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
27 —è–Ω–≤–∞—Ä—è 2026

## –ê–≤—Ç–æ—Ä
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Claude Code
